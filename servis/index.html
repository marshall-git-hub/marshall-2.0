<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Servis - Správa Údržby</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="../navbar/navbar.css">
  <link rel="stylesheet" href="servis.css">
  <!-- Add SheetJS library for Excel export -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
  <script defer src="../navbar/navbar.js"></script>
  <script src="../firebase-config.js"></script>
  <script src="../database-service.js"></script>
</head>
<body>
  <div id="navbar"></div>
  
  <div class="app-container" style="margin-left:210px;">
    <main class="main-content">
      <div class="page-container">
        <!-- Header -->
        <div class="page-header servis-header">
          <div class="header-background"></div>
          <div class="header-content">
            <div class="header-info">
              <div class="header-icon-section">
                <div class="header-icon servis-icon">
                  <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
                    <path d="M9 12l3 3l3-3"/>
                    <path d="M9 6l3 3l3-3"/>
                  </svg>
                </div>
                <div class="header-text">
                  <h1>Servis</h1>
                  <p>Správa servisných údržb</p>
                </div>
              </div>
              <div class="header-actions">
                <div class="search-container">
                  <input type="text" id="global-search" placeholder="Hľadať...">
                </div>
                <button id="export-btn" class="btn btn-secondary">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="7,10 12,15 17,10"/>
                    <line x1="12" y1="15" x2="12" y2="3"/>
                  </svg>
                  Export
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Main Content Grid -->
        <div class="maintenance-grid">
          <!-- Column 1: STK + EK, Stiahnutie Tach., Ciachovanie, L-Certifikát -->
          <div class="grid-column">
            <!-- STK + EK Table -->
            <div class="maintenance-table" data-category="stk">
              <div class="table-header stk-header">
                <h3>STK + EK</h3>
              </div>
              <div class="table-content">
                <table>
                  <tbody id="stk-tbody">
                    <!-- Data will be populated by JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>

            <!-- Tachograph Download Table -->
            <div class="maintenance-table" data-category="tachograph">
              <div class="table-header tachograph-header">
                <h3>Stiahnutie Tach.</h3>
              </div>
              <div class="table-content">
                <table>
                  <tbody id="tachograph-tbody">
                    <!-- Data will be populated by JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>

            <!-- Calibration Table -->
            <div class="maintenance-table" data-category="calibration">
              <div class="table-header calibration-header">
                <h3>Ciachovanie</h3>
              </div>
              <div class="table-content">
                <table>
                  <tbody id="calibration-tbody">
                    <!-- Data will be populated by JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>

            <!-- L-Certificate Table -->
            <div class="maintenance-table" data-category="l-certificate">
              <div class="table-header l-cert-header">
                <h3>L-Certifikát</h3>
              </div>
              <div class="table-content">
                <table>
                  <tbody id="l-cert-tbody">
                    <!-- Data will be populated by JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- Column 2: DPF čistenie, Motor. olej, Diferenciálny olej, Prevodovka olej -->
          <div class="grid-column">
            <!-- DPF Cleaning Table -->
            <div class="maintenance-table" data-category="dpf">
              <div class="table-header dpf-header">
                <h3>DPF čistenie</h3>
              </div>
              <div class="table-content">
                <table>
                  <tbody id="dpf-tbody">
                    <!-- Data will be populated by JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>

            <!-- Engine Oil Table -->
            <div class="maintenance-table" data-category="engine-oil">
              <div class="table-header engine-oil-header">
                <h3>Motor. olej</h3>
              </div>
              <div class="table-content">
                <table>
                  <tbody id="engine-oil-tbody">
                    <!-- Data will be populated by JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>

            <!-- Differential Oil Table -->
            <div class="maintenance-table" data-category="differential-oil">
              <div class="table-header diff-oil-header">
                <h3>Diferenciálny olej</h3>
              </div>
              <div class="table-content">
                <table>
                  <tbody id="differential-oil-tbody">
                    <!-- Data will be populated by JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>

            <!-- Transmission Oil Table -->
            <div class="maintenance-table" data-category="transmission-oil">
              <div class="table-header transmission-oil-header">
                <h3>Prevodovka olej</h3>
              </div>
              <div class="table-content">
                <table>
                  <tbody id="transmission-oil-tbody">
                    <!-- Data will be populated by JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- Column 3: Ročná tahač, Ročná náves, Kontrola bŕzd -->
          <div class="grid-column">
            <!-- Annual Tractor Table -->
            <div class="maintenance-table" data-category="annual-tractor">
              <div class="table-header annual-tractor-header">
                <h3>Ročná tahač</h3>
              </div>
              <div class="table-content">
                <table>
                  <tbody id="annual-tractor-tbody">
                    <!-- Data will be populated by JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>

            <!-- Annual Trailer Table -->
            <div class="maintenance-table" data-category="annual-trailer">
              <div class="table-header annual-trailer-header">
                <h3>Ročná náves</h3>
              </div>
              <div class="table-content">
                <table>
                  <tbody id="annual-trailer-tbody">
                    <!-- Data will be populated by JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>

            <!-- Brake Check Table -->
            <div class="maintenance-table" data-category="brake-check">
              <div class="table-header brake-check-header">
                <h3>Kontrola bŕzd</h3>
              </div>
              <div class="table-content">
                <table>
                  <tbody id="brake-check-tbody">
                    <!-- Data will be populated by JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- Column 4: Ostatné, Osobné -->
          <div class="grid-column">
            <!-- Other Services Table -->
            <div class="maintenance-table" data-category="other">
              <div class="table-header other-header">
                <h3>Ostatné</h3>
              </div>
              <div class="table-content" data-columns="3">
                <table>
                  <tbody id="other-tbody">
                    <!-- Data will be populated by JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>

            <!-- Personal Vehicles Table -->
            <div class="maintenance-table" data-category="personal">
              <div class="table-header personal-header">
                <h3>Osobné</h3>
              </div>
              <div class="table-content" data-columns="3">
                <table>
                  <tbody id="personal-tbody">
                    <!-- Data will be populated by JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>



  <script src="servis.js"></script>
</body>
</html>
